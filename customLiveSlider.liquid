<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js" defer></script>

{% if section.settings.is_enabled %}
  <!-- Style Css Section -->
  {% style %}
        .vowel_section{
          position:relative;
          padding-top:{{section.settings.padding-top}}px;
          padding-right:{{section.settings.padding-right}}px;
          padding-bottom:{{section.settings.padding-bottom}}px;
          padding-left:{{section.settings.padding-left}}px;
        }

        #image_slider_{{ section.id }} .swiper-slide{
          position: relative;
          overflow: hidden;
        }

        #image_slider_{{ section.id }} .swiper-slide img{
          transition: all 1s ease;
          width: 100%;
          height:100%;
          object-fit: cover;
          object-position:center;
        }

        .blocksy-card-img {
          position: relative;
          display: inline-block;
          overflow: hidden;
          border-radius:var(--block-image-border-radius);
        }

        .blocksy-card-img::after {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: black; /* solid black overlay */
          opacity: var(--block-image-opacity); /* sets overlay transparency */
          pointer-events: none;
        }

        /*  */
        #image_slider_{{ section.id }} .blocksy-card {
          position:relative;
          display: grid;
          background: var(--block-bg);
          border-radius: var(--block-image-border-radius);
          overflow: hidden;
          height:var(--section-height);
        }

        .swiper-slide .blocksy-card .blocksy-card-img {
          grid-area: 1 / 1;
        }

        .blocksy-card-img .placeholder-img {
          height: 100%;
          width: 100%;
          border-radius: var(--block-image-border-radius);
        }
        .swiper-slide .blocksy-card .blocksy-img-text {
          grid-area: 1 / 1;
          height: 100%;
          width: 100%;
          position: absolute;
          top:0;
          left:0;
          display: flex;
          padding: 60px;
          z-index:10;
        }
        /*  */
        .swiper-button-next, .swiper-button-prev {
          border: 1px solid #E6E6E6;
          height: 40px !important;
          width: 40px !important;
          border-radius: 50% !important;
          color:var(--slider-arrow-color);
        }
        .swiper-button-prev:after, .swiper-button-next:after {
          font-family: swiper-icons;
          font-size: 18px !important;
          font-weight:700;
          text-transform: none !important;
          letter-spacing: 0;
          font-variant: initial;
          line-height: 1;
          color:var(--slider-arrow-color);
        }
        .swiper-pagination-bullet-active {
          opacity: var(--swiper-pagination-bullet-opacity, 1);
          background: var(--swiper-pagination-color, var(--slider-dots-color)) !important;
        }
        /*  */
        /*!!!!!!!!!! IMage Text Css Start !!!!!!!!!!  */
        .blocksy-card .blocksy-img-text .blocksy-img-text-inner{
          max-width: var(--block-max-width);
          z-index:10;
        }
        /*Sub Heading  */
        .blocksy-card .blocksy-img-text .blocksy-img-text-inner .inner-text-sub-heading{
          font-size: var(--block-sub-heading-size);
          color:var(--block-sub-heading-color);
          font-weight:500;
        }
        /* main Heading */
        .blocksy-card .blocksy-img-text .blocksy-img-text-inner .inner-text-main-heading{
          font-size: var(--block-main-heading-size);
          color:var(--block-main-heading-color);
          font-weight:400;
          margin:1.4rem 0rem;
          padding:0;
          line-height:calc( var(--block-main-heading-size) * 1.2);
        }
        /* Description */
        .blocksy-card .blocksy-img-text .blocksy-img-text-inner .inner-text-description{
          font-size:var(--block-description-font-size);
          font-weight:400;
          color:var(--block-description-color);
          margin-bottom:4rem ;
          line-height:calc( var(--block-description-font-size) * 1.4);
        }

        .blocksy-card .blocksy-img-text .blocksy-img-text-inner .inner-card-btn{
          padding:1.8rem 4rem;
          font-size:16px;
          font-weight:500;
          color:var(--block-button-font-color);
          background-color:var(--block-button-color);
          border-radius:var(--block-button-border-radius);
          border:none;
          cursor:pointer;
          transition: background-color 0.4s ease, color 0.4s ease;
        }

        .blocksy-card .blocksy-img-text .blocksy-img-text-inner .inner-card-btn:hover{
          color:var(--block-button-font-hover-color);
          background-color:var(--block-button-hover-color);
        }
        /* Content alignment And Position */
          /* === Position Classes === */
        .position-top_left {
          top: 0;
          left: 0;
          justify-content: flex-start;
          align-items: flex-start;
        }

        .position-top_center {
          top: 0;
          left: 50%;
          justify-content:center;
        }

        .position-top_right {
          top: 0;
          right: 0;
          justify-content: flex-end;
          align-items: flex-start;
        }

        .position-middle_left {
          top: 50%;
          left: 0;
          justify-content: flex-start;
          align-items: center;
        }

        .position-middle_center {
          top: 50%;
          left: 50%;
          justify-content: center;
          align-items: center;
        }

        .position-middle_right {
          top: 50%;
          right: 0;
          justify-content: flex-end;
          align-items: center;
        }

        .position-bottom_left {
          bottom: 0;
          left: 0;
          justify-content: flex-start;
          align-items: flex-end;
        }

        .position-bottom_center {
          bottom: 0;
          left: 50%;
          justify-content: center;
          align-items: flex-end;
        }

        .position-bottom_right {
          bottom: 0;
          right: 0;
          justify-content: flex-end;
          align-items: flex-end;
        }

        /* === Alignment Classes === */
        .align-left{
          text-align: left;
        }

        .align-center {
          text-align: center;
        }

        .align-right{
          text-align: right;
        }
        /*!!!!!!!!!! IMage Text Css End !!!!!!!!!!  */
       @media (max-width: 768px) {
          #image_slider_{{ section.id }} .blocksy-card {
          height:var(--section-tablet-height);
        }
          .blocksy-img-text {
            padding: 20px !important;
          }

          .blocksy-img-text-inner {
            max-width: 70% !important;
          }
        
          .inner-text-main-heading {
            font-size: 30px !important;
            margin:0 !important;
            line-height: calc(30px * 2) !important;
          }
        
          .inner-text-sub-heading{
            font-size: 16px !important;
          }
         
          .inner-text-description {
            font-size: 16px !important;
            margin-bottom:2rem !important;
          }
        
          .inner-card-btn {
            padding: 1rem 2rem !important;
            font-size: 14px !important;
          }
        }

       @media (max-width: 490px) {
          .blocksy-img-text {
            padding: 20px !important;
          }
          #image_slider_{{ section.id }} .blocksy-card {
            height:var(--section-mobile-height);
          }
          .inner-text-main-heading {
            font-size: 24px !important;
            margin:0 !important;
            line-height: calc(22px * 2) !important;
          }
        
          .inner-text-sub-heading{
            font-size: 14px !important;
          }
         
          .inner-text-description {
            font-size: 14px !important;
            margin-bottom:1.6rem;
          }
        
          .inner-card-btn {
            padding: 0.8rem 1.6rem !important;
            font-size: 13px !important;
          }
        }

  {% endstyle %}

  <section
    id="image_slider_{{ section.id }}"
    class="vowel_section"
    style="
      --section-height:{{ section.settings.section-height}}px;
      --section-tablet-height:{{ section.settings.section-height-tablet}}px;
      --section-mobile-height:{{ section.settings.section-height-mobile }}px;
      --slider-arrow-color:{{section.settings.arrrows-color}};
      --slider-dots-color:{{section.settings.dots-color}};
    "
  >
    <div class="page-width">
      <div>
        <div>
          {% render 'blocksy-heading',
            heading: section.settings.heading,
            heading_tag: section.settings.heading_tag,
            text_align: section.settings.text_align,
            font_size_desktop: section.settings.font_size_desktop,
            font_color: section.settings.font_color,
            subheading: section.settings.subheading,
            subheading_subtitle_heading_tag: section.settings.subheading_tag,
            subheading_text_align: section.settings.subheading_text_align,
            subheading_font_size_desktop: section.settings.subheading_font_size_desktop,
            subheading_font_color: section.settings.subheading_font_color,
            sec_desc: section.settings.subdesc,
            sec_desc_text_align: section.settings.subdesc_text_align,
            sec_desc_font_size_desktop: section.settings.subdesc_font_size_desktop,
            sec_desc_font_color: section.settings.subdesc_font_color,
            sec_width: section.settings.sec_width,
            heading_sec_align: section.settings.heading_sec_align,
            reverse: section.settings.rev_heading,
            cls: 'blocksy-image-slider'
          %}
        </div>
        <div>
          <div class="swiper blocksy-swiper_{{ section.id }} mySwiper vis ">
            <div class="swiper-wrapper">
              {% for block in section.blocks %}
                <div class="swiper-slide">
                  <div
                    class="blocksy-card"
                    style="
                      --block-sub-heading-size:{{ block.settings.card-subheading-size }}px;
                      --block-sub-heading-color:{{block.settings.card-subheading-color}};
                      --block-main-heading-size:{{ block.settings.card-heading-size }}px;
                      --block-main-heading-color:{{ block.settings.card-heading-color}};
                      --block-description-font-size:{{block.settings.card-description-size}}px;
                      --block-description-color:{{  block.settings.card-description-color}};
                      --block-button-color:{{ block.settings.card-button-color}};
                      --block-button-font-color:{{ block.settings.card-button-font-color}};
                      --block-button-hover-color:{{ block.settings.card-button-hover-color}};
                      --block-button-font-hover-color:{{ block.settings.card-button-font-hover-color}};
                      --block-button-border-radius:{{ block.settings.button-radius}}px;
                      --block-image-border-radius:{{ block.settings.image-border-radius}}px;
                      --block-image-opacity:{{ block.settings.image-opacity}}%;
                      --block-max-width: {{ block.settings.max_width }}px;
                      --block-bg: {{ block.settings.slide_bg }};
                    "
                  >
                    <div class="blocksy-card-img">
                      {% if block.settings.image != blank %}
                        <img src="{{ block.settings.image | image_url: width: 1500 }}" alt="Image">
                      {% else %}
                        {{ 'hero-apparel-1' | placeholder_svg_tag: 'placeholder-img' }}
                      {% endif %}
                    </div>
                    <!-- Text -->
                    <div class="blocksy-img-text position-{{ block.settings.content_position }} align-{{ block.settings.content_alignment }}">
                      <div class="blocksy-img-text-inner">
                        <!-- subheading -->
                        {% if block.settings.card_sub_heading != blank %}
                          <h5 class="inner-text-sub-heading">{{ block.settings.card_sub_heading }}</h5>
                          {% else %}
                          <h5>Sub heading</h5>
                        {% endif %}
                        <!-- main -->
                        {% if block.settings.card_heading != blank %}
                          <h3 class="inner-text-main-heading">{{ block.settings.card_heading }}</h3>
                          {%  else %}
                          <h3>Blocksy Slider Image</h3>
                        {% endif %}
                        <!-- desc -->
                        {% if block.settings.card_descr != blank %}
                          <p class="inner-text-description">{{ block.settings.card_descr }}</p>
                        {% else %}
                          <p>
                            blocksy description section starts from here
                          </p>
                        {% endif %}
                        <!-- btn -->
                        {% if block.settings.button_label != blank %}
                          <a src="{{ block.settings.card-btn-link }}" class="inner-card-btn">
                            {{ block.settings.button_label }}
                          </a>
                        {% endif %}
                        <!--  -->
                      </div>
                    </div>
                  </div>
                </div>
              {% endfor -%}
            </div>
            <div class="swiper-btn-div">
              {% if section.settings.show_navigation %}
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
              {% endif %}
            </div>
            {% if section.settings.show_pagination %}<div class="swiper-pagination"></div>{% endif %}
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Script Section -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
  <script>
    let columnDesktop = {{section.settings.column_visible_desktop}};
    let columnTablet = {{section.settings.column_visible_tablet}}
    let columnMobile = {{section.settings.column_visible_mobile }}
    let view = {{ section.settings.enable_view | json}};

    if(view == true) {
      columnDesktop = columnDesktop + 0.3;
    }

    if(view == true){
      columnTablet = columnTablet + 0.2;
    }

    if( view == true){
      columnMobile = columnMobile + 0.1;
    }
    
    let autoplayEnabled = {{ section.settings.show_autoplay | json}};
    console.log(autoplayEnabled);
    
    document.addEventListener('DOMContentLoaded', function () {
        var swiper = new Swiper('.swiper.blocksy-swiper_{{ section.id }}', {
          spaceBetween: 10,
          loop: false,
          speed: 600,
          pagination: {
            el: ".swiper-pagination",
            clickable: true,
          },
          navigation: {
              nextEl: ".swiper-button-next",
              prevEl: ".swiper-button-prev",
            },
          breakpoints: {
            320: {
              slidesPerView:columnMobile,
              spaceBetween: 10,
            },
            768: {
              slidesPerView: columnTablet,
              spaceBetween: 10,
            },
            1024: {
              slidesPerView: columnDesktop,
              spaceBetween: 10,
            },
          },
           
          autoplay: autoplayEnabled ? {
            delay: 3000,
            disableOnInteraction: false,
          } : false,
        
        });
      });
  </script>
  <!-- Script Section -->
{% endif %}
{% schema %}
{
  "name": "Blocksy • Image Slider",
  "tag": "section",
  "settings": [
    {
      "type": "checkbox",
      "id": "is_enabled",
      "label": "Section enabled/disbaled",
      "default": true
    },
    {
      "type": "header",
      "content": "Section settings"
    },
    {
      "type": "select",
      "id": "heading_sec_align",
      "label": "Heading Box Alignment",
      "options": [
        { "value": "start", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "end", "label": "Right" }
      ],
      "default": "center"
    },
     {
      "type": "range",
      "id": "section-height",
      "label": "Slide height(Desktop)",
      "min": 300,
      "max": 750,
      "unit": "px",
      "step": 5,
      "default":625
    },
    {
      "type": "range",
      "id": "section-height-tablet",
      "label": "Slide height(Tablet)",
      "min": 300,
      "max": 750,
      "unit": "px",
      "step": 5,
      "default":600
    },
    {
      "type": "range",
      "id": "section-height-mobile",
      "label": "Slide height(Mobile)",
      "min": 250,
      "max": 550,
      "unit": "px",
      "step": 5,
      "default":525
    },
    {
      "type": "header",
      "content": "Section Sub Heading"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Section Heading",
      "default": "sub heading"
    },
    {
      "type": "select",
      "id": "subheading_tag",
      "label": "Sub heading",
      "options": [
        { "value": "h1", "label": "H1" },
        { "value": "h2", "label": "H2" },
        { "value": "h3", "label": "H3" },
        { "value": "h4", "label": "H4" },
        { "value": "h5", "label": "H5" },
        { "value": "h6", "label": "H6" },
        { "value": "p", "label": "P" }
      ],
      "default": "h3"
    },
    {
      "type": "number",
      "id": "subheading_font_size_desktop",
      "label": "Font Size",
      "default": 20
    },
    {
      "type": "color",
      "id": "subheading_font_color",
      "label": "Font Color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Section Heading"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "Blocksy • Image Slider"
    },
    {
      "type": "select",
      "id": "heading_tag",
      "label": "Heading",
      "options": [
        { "value": "h1", "label": "H1" },
        { "value": "h2", "label": "H2" },
        { "value": "h3", "label": "H3" },
        { "value": "h4", "label": "H4" },
        { "value": "h5", "label": "H5" },
        { "value": "h6", "label": "H6" }
      ],
      "default": "h2"
    },
    {
      "type": "number",
      "id": "font_size_desktop",
      "label": "Font Size",
      "default": 40
    },
    {
      "type": "color",
      "id": "font_color",
      "label": "Font Color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Section Description"
    },
    {
      "type": "text",
      "id": "subdesc",
      "label": "Description",
      "default": "Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. "
    },
    {
      "type": "number",
      "id": "subdesc_font_size_desktop",
      "label": "Font Size",
      "default": 25
    },
    {
      "type": "color",
      "id": "subdesc_font_color",
      "label": "Font Color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Slider Settings"
    },
    {
      "type": "range",
      "id": "column_visible_desktop",
      "label": "Slides Visible (Desktop)",
      "min": 1,
      "max": 6,
      "step": 1,
      "default": 4
    },
    {
      "type": "range",
      "id": "column_visible_tablet",
      "label": "Slides Visible (Tablet)",
      "min": 1,
      "max": 4,
      "step": 1,
      "default": 2
    },
    {
      "type": "range",
      "id": "column_visible_mobile",
      "label": "Slides Visible (Mobile)",
      "min": 1,
      "max": 3,
      "step": 1,
      "default": 1
    },
    {
      "type": "checkbox",
      "id": "enable_view",
      "label": "Display small portion of next slide",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_navigation",
      "label": "Show arrows",
      "default": true
    },
    {
      "type": "color",
      "id": "arrrows-color",
      "label": "Arrow color",
      "default":"#000000"
    },
     {
      "type": "checkbox",
      "id": "show_pagination",
      "label": "Show dots",
      "default": true
    },
    {
      "type": "color",
      "id": "dots-color",
      "label": "Dots color",
      "default":"#000000"
    },
     {
      "type": "checkbox",
      "id": "show_autoplay",
      "label": "Autoplay",
      "default": false
    },
    {
      "type": "header",
      "content": "Section spacing"
    },
    {
      "type": "range",
      "id": "padding-top",
      "label": "Padding top",
      "min": 1,
      "max": 100,
      "step": 1,
      "default": 1
    },
    {
      "type": "range",
      "id": "padding-bottom",
      "label": "Padding bottom",
      "min": 1,
      "max": 100,
      "step": 1,
      "default": 1
    },
    {
      "type": "textarea",
      "id": "custom_css",
      "label": "Custom CSS",
      "info": "Add your own custom styles here."
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
         {
            "type": "header",
            "content": "Content settings"
          },
          {
            "type": "color",
            "id": "slide_bg",
            "label": "Slide background color",
            "default": "#fff"
          },
          {
            "type": "range",
            "id": "max_width",
            "label": "Content max. width",
            "min": 350,
            "max": 1300,
            "step": 10,
            "default": 500,
            "unit": "px"
          },
          {
            "type": "select",
            "id": "content_position",
            "label": "Position",
            "default": "middle_left",
            "options": [
              { "value": "top_left", "label": "Top Left" },
              { "value": "top_center", "label": "Top Center" },
              { "value": "top_right", "label": "Top Right" },
              { "value": "middle_left", "label": "Middle Left" },
              { "value": "middle_center", "label": "Middle Center" },
              { "value": "middle_right", "label": "Middle Right" },
              { "value": "bottom_left", "label": "Bottom Left" },
              { "value": "bottom_center", "label": "Bottom Center" },
              { "value": "bottom_right", "label": "Bottom Right" }
            ]
          },
          {
            "type": "select",
            "id": "content_alignment",
            "label": "Alignment",
            "default": "left",
            "options": [
              { "value": "left", "label": "Left" },
              { "value": "center", "label": "Center" },
              { "value": "right", "label": "Right" }
            ]
          },
          {
            "type": "header",
            "content": "Image settings"
          },
             {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
            },
             {
            "type": "range",
            "id": "image-border-radius",
            "label": "Image Border radius",
            "min": 0,
            "max": 20,
            "step": 1,
             "unit": "px",
            "default": 1
          },
            {
            "type": "range",
            "id": "image-opacity",
            "label": "Opacity",
            "min": 0,
            "max": 100,
            "step": 1,
            "unit": "%",
            "default": 1
          },
          {
            "type": "header",
            "content": "Card Sub Heading"
          },
          {
            "type": "text",
            "id": "card_sub_heading",
            "label": "Sub heading",
            "default":"Sub Heading"
          },
          {
            "type": "number",
            "id": "card-subheading-size",
            "label": "Font Size",
            "default": 17
          },
          {
            "type": "color",
            "id": "card-subheading-color",
            "label": "Font Color",
            "default": "#000000"
          },
          {
            "type": "header",
            "content": "Card Heading"
          },
          {
            "type": "text",
            "id": "card_heading",
            "label": "Heading",
            "default": "Blocksy Image Slider."
          },
          {
            "type": "number",
            "id": "card-heading-size",
            "label": "Font Size",
            "default": 60
          },
          {
            "type": "color",
            "id": "card-heading-color",
            "label": "Font Color",
            "default": "#000000"
          },
          {
            "type": "header",
            "content": "Description"
          },
          {
            "type": "inline_richtext",
            "id": "card_descr",
            "label": "Description",
            "default": "Blocksy empowers every storefront to transform inspiration into commerce—one elegant block at a time."
          },
          {
            "type": "number",
            "id": "card-description-size",
            "label": "Font Size",
            "default": 19
          },
          {
            "type": "color",
            "id": "card-description-color",
            "label": "Font Color",
            "default": "#000000"
          },
          {
            "type": "header",
            "content": "Button"
          },
          {
            "type": "text",
            "id": "button_label",
            "default": "button label",
            "label": "Button Label"
          },
          {
            "type": "url",
            "id": "card-btn-link",
            "label": "Link",
          },
          {
            "type": "color",
            "id": "card-button-color",
            "label": "Buttom Color",
            "default": "#000000"
          },
          {
            "type": "color",
            "id": "card-button-font-color",
            "label": "Button Font Color",
            "default": "#ffffff"
          },
          {
            "type": "color",
            "id": "card-button-hover-color",
            "label": "Hover Button Color",
            "default": "#000000"
          },
          {
            "type": "color",
            "id": "card-button-font-hover-color",
            "label": "Hover Button Font Color",
            "default": "#000000"
          },
          {
            "type": "range",
            "id": "button-radius",
            "label": "Border Radius",
            "min": 1,
            "max": 100,
            "step": 1,
            "default": 1
          }
      ]
    }
  ],
    "presets": [
    {
      "name": "Blocksy • Image Slider",
      "category": "Image",
      "blocks": [
        {
          "type": "slide"
        },
        {
          "type": "slide"
        }
      ]
    }
  ]
}
{% endschema %}
